<!doctype html>
<html lang=en >
<head>
<title>Fidgetty R2</title>
<meta charset=utf-8 />
<meta name=viewport content='width=device-width,user-scalable=no,minimum-scale=1.0,maximum-scale=1.0' />
</head>
<body>
<script>
 
	var notices;

	var startTime;

	var woodwinds = new Audio( 'http://www.freesfx.co.uk/rx2/mp3s/5/5530_1335261596.mp3' );
	var recorder = new Audio( 'http://www.freesfx.co.uk/rx2/mp3s/4/5204_1334655826.mp3' );
	var digivice = new Audio( 'http://www.freesfx.co.uk/rx2/mp3s/9/10544_1374652337.mp3' );
	var success = new Audio( 'success.wav' );
	var piano = new Audio( 'http://www.kozco.com/tech/piano2-CoolEdit.mp3' );
	var organ = new Audio( 'http://www.kozco.com/tech/organfinale.mp3' );
	var harp = new Audio( 'http://www.soundjay.com/misc/sounds/dream-harp-06.mp3' );

//	var xxx = new Audio( '' );

	sounds = [ woodwinds, recorder, digivice, success, piano, organ, harp ];

	init();

	function init() {

		var css = document.body.appendChild( document.createElement('style') );
		css.innerHTML = 'body { font: 600 12pt monospace; margin: 0; overflow: hidden; }' +
			'h2, a { margin: 0; }' +
			'#i { text-decoration: none; }' +
			'button { background-color: white; border-width: 1px; font-size: 24pt; }' +
			'#clock, #countdown { font-size: 24pt; }' +
			'#cols { border: 1px #ccc solid; columns: 300px 3; ' +
		'';

		menu = document.body.appendChild( document.createElement( 'div' ) );
		menu.style.cssText = 'margin: 0 20px; position: absolute;';
		menu.innerHTML = '<h2>' +
				'<a href="" >' + document.title + '</a> ' +
			'</h2>' +
			'<div id=cols >' +
  			'<p id=clock ></p>' +
  			'<p id=countdown ></p>' +
  			'<button onclick=stopNotices(); >Stop notices</button> ' +
  			'<button onclick=startNotices(); >Start notices</button>' +
  		  '<p>' +
  		  'Ankle pumps<br>' +
        'Ankle circles<br>' +
        'Knee extension & flexion<br>' +
        'Rise alternates knees<br>' +
        'Push feet into the ground<br>' +
        'Head up and down to chest<br>' +
        'Roll shoulders<br>' +
        'Knees together and out<br>' +
        'Head between knees<br>' +
        'Turn from side to side<br>' +
        'Rotate hips<br>' +
        'Stretch arms up into air one at a time<br>' +
        'Grab arms behind shoulders<br>' +
        'Arch back<br>' +
        'Cocyx curl<br>' +
        'Wave arms to sides<br>' +
        
      '</div>' +
		'';

		startNotices();

	}

	function startNotices() {

		startTime = Date.now();

		giveNotice();

		notices = setInterval( giveNotice, 1000);

	}

	function stopNotices() {

		clearInterval( notices );

	}

	function giveNotice() {

		var d = new Date();
		var t = d.toLocaleTimeString();

		clock.innerHTML = t;
		
		var dn = Date.now()
		
		countdown.innerHTML = ( 300000 - ( dn - startTime ) ).toFixed().slice( 0, -3 ) ;

		if ( dn - startTime > 300000 ) {

console.log(  dn );

//			snd.play();

			sounds[ Math.floor( Math.random() * sounds.length ) ].play();

			startTime = dn;

		}

	}



</script>
</body>
</html>