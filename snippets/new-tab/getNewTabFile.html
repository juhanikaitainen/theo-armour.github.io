<!doctype html>
<html lang=en >
<head>
<meta charset=utf-8 >
<title>theoNewTab</title>
<meta name=viewport content='width=device-width,initial-scale=1,minimum-scale=1,maximum-scale=1,user-scalable=no' >
<meta name=description content='' >
<meta name=keywords content='WebGL,Three.js,Tween.js,JavaScript,GitHub,FOSS,3D,STEM' >
<meta name=date content='2016-11-30' >
</head>
<body>
<script>

	var b = '<br>';

	var news =

		'<a href=http://nytimes.com/ target=_blank>nytimes</a>' +
			' <a href=http://www.nytimes.com/pages/technology/ target=_blank>tch</a>' + b +
		'<a href=http://drudgereport.com target=_blank>drudge</a>' + b +
		'<a href=http://boingboing.net/blog/ target=_blank>boing</a>' + b +
		'<a href=http://lifehacker.com/ target=_blank>lifehacker</a>' + b +
		'<a href=http://slashdot.net/ target=_blank>slashdot</a>' + b +
		'<a href=http://techmeme.com/ target=_blank>techmeme</a>' + b +
		'<a href=http://news.ycombinator.com/ target=_blank>hacker_news</a>' + b +
		'<a href=http://reddit.com target=_blank>reddit</a>' + b +
		'<a href=http://kottke.org target=_blank>kottke</a>' + b +
		'<a href=http://swiss-miss.com target=_blank>swiss-miss</a>' + b +
		'<a href=http://techcrunch.com target=_blank>tc</a>' +
			' <a href=http://engadget.com target=_blank>eng</a>' +
			' <a href=http://gizmodo.com target=_blank>giz</a>' + b +
		'<a href=http://feedly.com target=_blank>feedly</a>' + b +
		b +
		'<a href=https://groups.google.com target=_blank>g groups</a>' + b +
		'<a href=https://mail.google.com/mail/u/0/?tab=mm#contacts target=_blank>g_contacts</a>' + b +
		'<a href=https://mail.google.com/mail/u/0/?tab=mm#inbox target=_blank>g mail</a>' + b +
		'<a href=https://mail.google.com/mail/?view=cm&fs=1&tf=1 target=_blank>g_compose</a>' + b +
		'<a href=https://calendar.google.com/ target=_blank>g cal</a>' + b +

		'<a href=https://drive.google.com/?authuser=0#my-drive target=_blank>g drive</a>' + b +
		'<a href=https://google.com/maps/preview target=_blank>g maps</a>' + b +
		'<a href=https://translate.google.com/ target=_blank>g_translate</a>' + b +
		'<a href=https://google.com target=_blank>g oogle</a>' + b +
		'<a href=http://youtube.com target=_blank>youtube</a>' + b +
	'';

	var items =

		'<a href=https://www.evernote.com/home target=_blank>evernote</a>' + b +
		'<a href=https://dropbox.com/home target=_blank>dropbox</a>' + b +
		'<a href=https://www.dropbox.com/sh/mwonzj8s64f6mpr/q4CWBT1EDa target=_blank >db.git-repo</a>' + b +
		'<a href=http://blogger.com target=_blank>blogger</a> &nbsp;<a href=http://wordpress.com target=_blank>wp</a>' + b +
		b +
		'<a href=https://twitter.com target=_blank>twitter</a>' + b +
		'<a href=https://facebook.com target=_blank>facebook</a>' + b +
		'<a href=https://slack.com target=_blank>slackk</a>' + b +
		b +
		'<a href=https://flickr.com target=_blank>flickr</a> <a href=https://flickr.com/bbn66 target=_blank>bbn66</a>' + b +
		'<a href=http://websightdesign.com target=_blank>wsd</a>' + b +
		b +
		'<a href=http://stackoverflow.com/ target=_blank>stacko\'flow</a>' + b +
		'<a href=http://pandora.com target=_blank>pandora</a>' + b +


		b +
		'<a href=http://threejs.org target=_blank >Three</a>' +
			' <a href=https://github.com/mrdoob/three.js target="_blank">gh</a>' + b +

		'<a href=http://wikihouse.github.io/viewer-experiments/ target=_blank>wikihous</a>' +
			' <a href=https://github.com/wikihouse/viewer-experiments/ target=_blank>gh</a>' + b +
		'<a href=http://opendesk.github.io/design-playground/ target=_blank>opendesk</a>' +
			' <a href=https://github.com/opendesk/design-playground/tree/gh-pages target=_blank>gh</a>' + b +

	'';


	init();

	function init() {

		var txt = 'lorem ipsum, quia dolor sit, amet, consectetur, adipisci velit, sed quia non numquam eius modi tempora incidunt, ut labore et dolore magnam aliquam quaerat voluptatem. ut enim ad minima veniam, quis nostrum exercitationem ullam corporis suscipit laboriosam, nisi ut aliquid ex ea commodi consequatur? quis autem vel eum iure reprehenderit, qui in ea voluptate velit esse, quam nihil molestiae consequatur, vel illum, qui dolorem eum fugiat, quo voluptas nulla pariatur?';

		var css, contents;
		var css = document.body.appendChild( document.createElement( 'style' ) );
		css.innerHTML =

			'body { font: 12pt monospace; margin: 0 auto; max-width: 90em; }' +

			'a { color: lightgrey; text-decoration: none; }' +

			'button, input[type=button] { background-color: #eee; border: 2px #eee solid; color: #888; }' +

			'input[type=range] { -webkit-appearance: none; -moz-appearance: none; background-color: silver; width: 160px; }' +
			'input[type=range]::-moz-range-thumb { background-color: #888; border-radius: 0; width: 10px; }' +
			'input[type=range]::-webkit-slider-thumb { -webkit-appearance: none; background-color: #888; height: 20px; width: 10px; }' +

			'.col { color: #eeeaea; display: inline-block; ' +
				'font: bold 200% monospace; outline: 1px solid #eee; overflow: hidden; vertical-align: top; }' +

//			'#contents { margin: 0 20px; max-width: 300px; position: absolute; }' +

		'';

		contents = document.body.appendChild( document.createElement( 'div' ) );
		contents.id = 'contents';
		contents.innerHTML =

			'<div id=header class=col >' + ( 'theoNewwwTab &#x2766;' ).link( "") + '</div>' + b +

			'<div id=col1 class=col style=width:200px;overflow:hidden; > </div>' +

			'<div id=col2 class=col style=margin-left:10px;width:35px; > </div>' +

			'<div id=col3 class=col style=margin-left:20px;width:250px;overflow:hidden; > </div>' +

			'<div id=col4 class=col style=margin-left:10px;width:35px; > </div>' +

			'<div id=col5 class=col style=margin-left:20px;width:250px;overflow:hidden; > </div>' +

			'<div id=col6 class=col style=margin-left:10px;width:35px; > </div>' +

			'<div id=col7 class=col style=margin-left:20px;width:200px;overflow:hidden; >' + news + '</div>' +

			'<div id=col8 class=col style=margin-left:20px;width:200px;overflow:hidden; >' + items + '</div>' +

		'';

		requestFile( 'https://api.github.com/users/theo-armour/orgs', callbackOrgs );

		requestFile( 'https://api.github.com/users/jaanga/repos?per_page=100', callbackJaanga );

		requestFile( 'https://api.github.com/users/jaanga/repos?per_page=100', callbackJaanga );

		requestFile( 'https://api.github.com/users/theo-armour/repos?per_page=100', callbackTheoArmour );

	}


	function callbackJaanga( xhr ) {

		var response, repos, repo, arr1, arr2;

		response = JSON.parse( xhr.target.response );

		repos = response.map( function( obj ) { return obj.name; } ).sort();

		arr1 = [];
		arr2 = [];

		for ( var i = 0; i < repos.length; i++ ) {

			repo = repos[ i ]

			if ( repo.includes( 'heightmap' ) || repo.includes( '-de' ) || repo.includes( '-srtm' ) || repo.includes( '-usgs' )  ) { continue; }

			arr1.push( repo.replace( /-/g, '&#8209;' ).link( 'https://' + 'jaanga' + '.github.io/' + repo ) );

			arr2.push( ( 'gh' ).link( 'https://github.com/jaanga/' + repo ) );

		}

		col3.innerHTML = arr1.join( b );

		col4.innerHTML = arr2.join( b );

//console.log( 'repos', repos );

	}

	function callbackTheoArmour( xhr ) {

		var response, repos, repo, arr1, arr2;

		response = JSON.parse( xhr.target.response );

		repos = response.map( function( obj ) { return obj.name; } ).sort();

		arr1 = [];
		arr2 = [];

		for ( var i = 0; i < repos.length; i++ ) {

			repo = repos[ i ]

			if ( repo.includes( 'heightmap' ) || repo.includes( '-de' ) || repo.includes( '-srtm' ) || repo.includes( '-usgs' )  ) { continue; }

			arr1.push( repo.replace( /-/g, '&#8209;' ).link( 'https://' + 'theo-armour' + '.github.io/' + repo ) );

			arr2.push( ( 'gh' ).link( 'https://github.com/theo-armour/' + repo ) );

		}

		col5.innerHTML = arr1.join( b );

		col6.innerHTML = arr2.join( b );

console.log( 'repos', repos );

	}



	function callbackOrgs( xhr ) {

		response = JSON.parse( xhr.target.response );

		logins = response.map( function( obj ) { return obj.login; } ).sort();

		col1.innerHTML =

			( 'theo&#8209;armour').link( 'https://theo-armour.github.io/') + b +

			logins.map( function( login ) {
					return login.replace( /-/g, '&#8209;' ).link( 'https://' + login + '.github.io/' ); } ).join( b );

		col2.innerHTML =
			('gh').link( 'https://github.com/theo-armour/') + b +

			logins.map( function( login ) { return ( 'gh' ).link( 'https://github.com/' + login ); } ).join( b );

	}


	function requestFile( url, callback ) {

		var xhr;
		xhr = new XMLHttpRequest();
		xhr.crossOrigin = 'anonymous';
		xhr.open( 'GET', url, true );
		xhr.onload = callback;
		xhr.send( null );

	}

</script>
</body>
</html>
